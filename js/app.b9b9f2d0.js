(function(e){function t(t){for(var r,o,s=t[0],i=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),c()}function c(){for(var e,t=0;t<a.length;t++){for(var c=a[t],r=!0,s=1;s<c.length;s++){var i=c[s];0!==n[i]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=c[0]))}return e}var r={},n={app:0},a=[];function o(t){if(r[t])return r[t].exports;var c=r[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.m=e,o.c=r,o.d=function(e,t,c){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(c,r,function(t){return e[t]}.bind(null,r));return c},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dublemint-task/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=i;a.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"0c45":function(e,t,c){},1399:function(e,t,c){"use strict";c("0c45")},"19ff":function(e,t,c){"use strict";c("a4ec")},"376b":function(e,t,c){},"3dfd":function(e,t,c){"use strict";var r=c("7a23");function n(e,t){const c=Object(r["B"])("router-view");return Object(r["t"])(),Object(r["d"])(c)}c("586e");var a=c("6b0d"),o=c.n(a);const s={},i=o()(s,[["render",n]]);t["a"]=i},4360:function(e,t,c){"use strict";var r=c("5502"),n=c("cee4");t["a"]=Object(r["a"])({state:{currencies:{},formExchangeRates:{},exchangeRates:{},defaultLocalCurrencies:["USD","EUR","UAH","GBP","CNY","CAD"],localCurrencies:[]},mutations:{setCurrencies(e,t){e.currencies=t},setFormExchangeRates(e,t){e.formExchangeRates=t},setExchangeRates(e,t){e.exchangeRates=t},setLocalCurrencies(e,t){e.localCurrencies=[...e.defaultLocalCurrencies,...t]}},actions:{async getCurrencies({commit:e}){try{const{data:t,status:c}=await n["a"].get("/currencies.json");return 200!==c||(e("setCurrencies",t),t)}catch(t){return console.error(t),!1}},async getFormExchangeRates({commit:e},t){try{const{data:c,status:r}=await n["a"].get("/convert_from.json",{params:t});return 200!==r||(e("setFormExchangeRates",c),c)}catch(c){return console.error(c),!1}},async getExchangeRates({commit:e},t){try{const{data:c,status:r}=await n["a"].get("/convert_from.json",{params:t});return 200!==r||(e("setExchangeRates",c),c)}catch(c){return console.error(c),!1}},getLocalCurrencies({commit:e}){try{const t=JSON.parse(localStorage.getItem("localCurrencies"))||[];return e("setLocalCurrencies",t),t}catch(t){return console.error(t),!1}},addLocalCurrencies({commit:e},t){try{const c=JSON.parse(localStorage.getItem("localCurrencies"))||[],r=[...c,...t];return localStorage.setItem("localCurrencies",JSON.stringify(r)),e("setLocalCurrencies",r),r}catch(c){return console.error(c),!1}}},getters:{formExchangeRatesList(e){return e.formExchangeRates.to},exchangeRatesList(e){var t;return null===(t=e.exchangeRates.to)||void 0===t?void 0:t.map(e=>({quotecurrency:e.quotecurrency,mid:e.mid.toFixed(2)}))},currenciesList(e){return e.currencies.currencies}}})},"48a1":function(e,t,c){"use strict";c("b43b")},"52b6":function(e,t,c){},"56d7":function(e,t,c){"use strict";c.r(t),function(e){var t=c("7a23"),r=c("cee4"),n=c("130e"),a=c("3dfd"),o=c("a18c"),s=c("4360");r["a"].defaults.baseURL="https://xecdapi.xe.com/v1/";const i="organization271259522",l="g8jv77qv9acjj4pe0n46h650qt",u=e.from(`${i}:${l}`,"utf8").toString("base64");r["a"].defaults.headers.authorization="Basic "+u;const d=Object(t["c"])(a["a"]);d.use(n["a"],r["a"]),d.use(s["a"]),d.use(o["a"]),d.mount("#app")}.call(this,c("b639").Buffer)},"586e":function(e,t,c){"use strict";c("6b57")},6134:function(e,t,c){"use strict";c("7cb9")},"6b57":function(e,t,c){},7495:function(e,t,c){"use strict";c("ac3c")},"7cb9":function(e,t,c){},"7f1c":function(e,t,c){"use strict";c("376b")},"8ca2":function(e,t,c){},a18c:function(e,t,c){"use strict";var r=c("6605"),n=c("7a23");const a={class:"home"};function o(e,t,c,r,o,s){const i=Object(n["B"])("conversion-form"),l=Object(n["B"])("exchange-rates");return Object(n["t"])(),Object(n["f"])("div",a,[Object(n["i"])(i),Object(n["i"])(l)])}const s={class:"conversion-form"},i={class:"conversion-form__inputs-wrapper"},l={class:"conversion-form__output"},u={class:"conversion-form__output-currency"},d={class:"conversion-form__output-value"},p={class:"conversion-form__inputs-wrapper"},b={class:"conversion-form__output"},h={class:"conversion-form__output-currency"},f={class:"conversion-form__output-currency"};function m(e,t,c,r,a,o){const m=Object(n["B"])("app-select"),g=Object(n["B"])("app-input-field");return Object(n["t"])(),Object(n["f"])("div",s,[Object(n["g"])("div",i,[Object(n["i"])(m,{modelValue:a.originalCurrencySelect,"onUpdate:modelValue":t[0]||(t[0]=e=>a.originalCurrencySelect=e),options:a.defaultSelectCurrencies},null,8,["modelValue","options"]),Object(n["i"])(g,{modelValue:a.originalCurrencyValue,"onUpdate:modelValue":t[1]||(t[1]=e=>a.originalCurrencyValue=e),"field-name":"original-currency","field-placeholder":"0",onInput:o.setOriginalCurrencyValue},null,8,["modelValue","onInput"]),Object(n["g"])("div",l,[Object(n["g"])("span",u,Object(n["D"])(a.desiredCurrencySelect),1),Object(n["g"])("span",d,Object(n["D"])(o.desiredResult.toString()),1)])]),Object(n["g"])("div",p,[Object(n["i"])(m,{modelValue:a.desiredCurrencySelect,"onUpdate:modelValue":t[2]||(t[2]=e=>a.desiredCurrencySelect=e),options:a.defaultSelectCurrencies},null,8,["modelValue","options"]),Object(n["i"])(g,{modelValue:a.desiredCurrencyValue,"onUpdate:modelValue":t[3]||(t[3]=e=>a.desiredCurrencyValue=e),"field-name":"desired-currency","field-placeholder":"0",onInput:o.setDesiredCurrencyValue},null,8,["modelValue","onInput"]),Object(n["g"])("div",b,[Object(n["g"])("span",h,Object(n["D"])(a.originalCurrencySelect),1),Object(n["g"])("span",f,Object(n["D"])(o.originalResult.toString()),1)])])])}var g=c("5502");const j=["type","name","placeholder"];function O(e,t,c,r,a,o){return Object(n["J"])((Object(n["t"])(),Object(n["f"])("input",{class:"app-input-field","onUpdate:modelValue":t[0]||(t[0]=e=>o.fieldValue=e),type:c.fieldType,name:c.fieldName,placeholder:c.fieldPlaceholder},null,8,j)),[[n["F"],o.fieldValue]])}var y={name:"AppInputField",props:{modelValue:{type:[String,Number],default:null},fieldType:{type:String,default:"text"},fieldName:{type:String,required:!0},fieldPlaceholder:{type:String,default:null}},computed:{fieldValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},v=(c("7f1c"),c("6b0d")),C=c.n(v);const _=C()(y,[["render",O],["__scopeId","data-v-6ebf41e8"]]);var x=_;function S(e,t,c,r,a,o){return Object(n["J"])((Object(n["t"])(),Object(n["f"])("select",{class:"app-select","onUpdate:modelValue":t[0]||(t[0]=e=>o.selectValue=e)},[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(c.options,e=>(Object(n["t"])(),Object(n["f"])("option",{key:e},Object(n["D"])(e),1))),128))],512)),[[n["G"],o.selectValue]])}var V={name:"AppSelect",props:{modelValue:{type:String,default:null},options:{type:Array,defailt:()=>[]}},computed:{selectValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}};c("19ff");const R=C()(V,[["render",S],["__scopeId","data-v-5a88d9f5"]]);var I=R,w={name:"ConversionForm",components:{AppInputField:x,AppSelect:I},data(){return{defaultSelectCurrencies:["USD","EUR","UAH","GBP","CNY","CAD","AUD","JPY"],originalCurrencySelect:"USD",desiredCurrencySelect:"EUR",originalCurrencyValue:null,desiredCurrencyValue:null,valueLimitInUsd:1e4,inputsPattern:/^\d+(\.\d+)?\.?$/}},mounted(){this.$store.dispatch("getFormExchangeRates",{from:this.originalCurrencySelect,to:this.defaultSelectCurrencies.join(",")})},computed:{...Object(g["b"])(["formExchangeRatesList"]),usdCurrencyRate(){var e;return null===(e=this.formExchangeRatesList)||void 0===e?void 0:e.find(e=>"USD"===e.quotecurrency).mid},originalCurrencyRate(){var e;return null===(e=this.formExchangeRatesList)||void 0===e?void 0:e.find(e=>e.quotecurrency===this.originalCurrencySelect).mid},desiredCurrencyRate(){var e;return null===(e=this.formExchangeRatesList)||void 0===e?void 0:e.find(e=>e.quotecurrency===this.desiredCurrencySelect).mid},originalResult(){return Math.ceil(+this.desiredCurrencyValue/this.desiredCurrencyRate*100)/100||0},desiredResult(){return Math.floor(+this.originalCurrencyValue*this.desiredCurrencyRate*100)/100||0},originalAboveLimit(){return this.usdCurrencyRate/this.originalCurrencyRate*+this.originalCurrencyValue>this.valueLimitInUsd},desiredAboveLimit(){return this.usdCurrencyRate/this.desiredCurrencyRate*+this.desiredCurrencyValue>this.valueLimitInUsd}},watch:{originalCurrencySelect(e){this.$store.dispatch("getFormExchangeRates",{from:e,to:this.defaultSelectCurrencies.join(",")})}},methods:{setOriginalCurrencyValue(e){var t;const c=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;this.inputsPattern.test(c)&&!this.originalAboveLimit||(this.originalCurrencyValue=this.originalCurrencyValue.slice(0,c.length-1))},setDesiredCurrencyValue(e){var t;const c=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;this.inputsPattern.test(c)&&!this.desiredAboveLimit||(this.desiredCurrencyValue=this.desiredCurrencyValue.slice(0,c.length-1))}}};c("6134");const k=C()(w,[["render",m],["__scopeId","data-v-1ae4fdee"]]);var A=k;const L={class:"exchange-rates"},M={class:"exchange-rates__actions"},E={class:"exchange-rates__buttons"},U={class:"exchange-rates__list"},B={class:"exchange-rates__list-currency"},$={class:"exchange-rates__list-value"};function D(e,t,c,r,a,o){const s=Object(n["B"])("app-select"),i=Object(n["B"])("app-button"),l=Object(n["B"])("add-currency-modal");return Object(n["t"])(),Object(n["f"])(n["a"],null,[Object(n["g"])("div",L,[Object(n["g"])("div",M,[Object(n["i"])(s,{modelValue:a.originalCurrencySelect,"onUpdate:modelValue":t[0]||(t[0]=e=>a.originalCurrencySelect=e),options:a.defaultSelectCurrencies},null,8,["modelValue","options"]),Object(n["g"])("div",E,[Object(n["i"])(i,{class:"exchange-rates__button",onClick:t[1]||(t[1]=e=>a.showModal=!0)},{default:Object(n["I"])(()=>[Object(n["h"])(" Add ")]),_:1}),Object(n["i"])(i,{class:"exchange-rates__button",onClick:o.updateExchangeRates,disabled:Boolean(a.updateTimeout)},{default:Object(n["I"])(()=>[Object(n["h"])(" Update ")]),_:1},8,["onClick","disabled"])])]),Object(n["g"])("ul",U,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(e.exchangeRatesList,e=>(Object(n["t"])(),Object(n["f"])("li",{key:e.quotecurrency,class:"exchange-rates__list-item"},[Object(n["g"])("span",B,Object(n["D"])(e.quotecurrency),1),Object(n["g"])("span",$,Object(n["D"])(e.mid),1)]))),128))])]),Object(n["i"])(l,{modelValue:a.showModal,"onUpdate:modelValue":t[2]||(t[2]=e=>a.showModal=e),"currency-selected":a.originalCurrencySelect},null,8,["modelValue","currency-selected"])],64)}const P=["type","disabled"];function q(e,t,c,r,a,o){return Object(n["t"])(),Object(n["f"])("button",{class:Object(n["p"])(["app-button",{"app-button--disabled":c.disabled}]),type:c.buttonType,disabled:c.disabled},[Object(n["A"])(e.$slots,"default",{},void 0,!0)],10,P)}var F={name:"AppButton",props:{buttonType:{type:String},disabled:{type:Boolean,default:!1}}};c("48a1");const T=C()(F,[["render",q],["__scopeId","data-v-29e0fa5b"]]);var N=T;const J={class:"add-currency-modal"},H={class:"currency-list"};function z(e,t,c,r,a,o){const s=Object(n["B"])("app-input-field"),i=Object(n["B"])("app-checkbox"),l=Object(n["B"])("app-button"),u=Object(n["B"])("app-modal");return Object(n["t"])(),Object(n["d"])(u,{modelValue:o.showModal,"onUpdate:modelValue":t[0]||(t[0]=e=>o.showModal=e),onHideModal:o.hideModal},{title:Object(n["I"])(()=>[Object(n["h"])(" Add new currencies ")]),body:Object(n["I"])(()=>[Object(n["g"])("div",J,[Object(n["i"])(s,{"field-name":"search",placeholder:"Search",onInput:o.searchCurrency},null,8,["onInput"]),Object(n["g"])("ul",H,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(o.filteredCurrenciesList,e=>(Object(n["t"])(),Object(n["f"])("li",{key:e.iso,class:"currency-list__item"},[Object(n["i"])(i,{"checkbox-id":e.iso,"checkbox-name":e.iso,onInput:t=>o.selectCurrency(t,e.iso)},{default:Object(n["I"])(()=>[Object(n["h"])(Object(n["D"])(e.iso),1)]),_:2},1032,["checkbox-id","checkbox-name","onInput"])]))),128))]),Object(n["i"])(l,{onClick:o.addSelectedCurrencies,disabled:!a.selectedCurrencies.length},{default:Object(n["I"])(()=>[Object(n["h"])(" Add ")]),_:1},8,["onClick","disabled"])])]),_:1},8,["modelValue","onHideModal"])}c("14d9");const G={class:"app-modal__heading"},Y={class:"app-modal__title"},K={class:"app-modal__body"};function Q(e,t,c,r,a,o){return o.showModal?(Object(n["t"])(),Object(n["f"])("div",{key:0,class:"app-modal",onClick:t[2]||(t[2]=(...e)=>o.hideModal&&o.hideModal(...e))},[Object(n["g"])("div",{class:"app-modal__content",onClick:t[1]||(t[1]=Object(n["K"])(()=>{},["stop"]))},[Object(n["g"])("div",G,[Object(n["g"])("h3",Y,[Object(n["A"])(e.$slots,"title",{},void 0,!0)]),Object(n["g"])("button",{class:"app-modal__close",type:"button",onClick:t[0]||(t[0]=(...e)=>o.hideModal&&o.hideModal(...e))}," ✖ ")]),Object(n["g"])("div",K,[Object(n["A"])(e.$slots,"body",{},void 0,!0)])])])):Object(n["e"])("",!0)}var W={name:"AppModal",props:{modelValue:{type:Boolean,default:!1}},computed:{showModal:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{hideModal(){this.showModal=!1,this.$emit("hide-modal")}}};c("1399");const X=C()(W,[["render",Q],["__scopeId","data-v-6d1b16e7"]]);var Z=X;const ee={class:"app-checkbox"},te=["id","name"],ce=["for"];function re(e,t,c,r,a,o){return Object(n["t"])(),Object(n["f"])("div",ee,[Object(n["g"])("input",{id:c.checkboxId,class:"app-checkbox__input",name:c.checkboxName,type:"checkbox"},null,8,te),Object(n["g"])("label",{for:c.checkboxId,class:"app-checkbox__label"},[Object(n["A"])(e.$slots,"default",{},void 0,!0)],8,ce)])}var ne={name:"AppCheckbox",props:{checkboxName:{type:String,required:!0},checkboxId:{type:String,required:!0}}};c("7495");const ae=C()(ne,[["render",re],["__scopeId","data-v-1728e36e"]]);var oe=ae,se={name:"AddCurrencyModal",components:{AppModal:Z,AppInputField:x,AppButton:N,AppCheckbox:oe},props:{modelValue:{type:Boolean,default:!1},currencySelected:{type:String,required:!0}},data(){return{selectedCurrencies:[],searchValue:""}},computed:{...Object(g["c"])(["localCurrencies"]),...Object(g["b"])(["currenciesList"]),filteredCurrenciesList(){var e;return null===(e=this.currenciesList)||void 0===e?void 0:e.filter(e=>e.iso.toLowerCase().includes(this.searchValue.toLowerCase())&&!this.localCurrencies.includes(e.iso))},showModal:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{hideModal(){this.selectedCurrencies=[],this.searchValue=""},searchCurrency(e){this.searchValue=e.target.value},selectCurrency(e,t){if(e.target.checked)this.selectedCurrencies.push(t);else{const e=this.selectedCurrencies.findIndex(e=>e===t);this.selectedCurrencies.splice(e,1)}},async addSelectedCurrencies(){await this.$store.dispatch("addLocalCurrencies",this.selectedCurrencies),await this.$store.dispatch("getExchangeRates",{from:this.currencySelected,to:this.localCurrencies.join(",")}),this.showModal=!1}}};c("b055");const ie=C()(se,[["render",z],["__scopeId","data-v-73f065e8"]]);var le=ie,ue={name:"ExchangeRates",components:{AppSelect:I,AddCurrencyModal:le,AppButton:N},data(){return{defaultSelectCurrencies:["USD","EUR","UAH"],originalCurrencySelect:"USD",showModal:!1,updateTimeout:null}},async mounted(){await this.$store.dispatch("getLocalCurrencies"),this.$store.dispatch("getExchangeRates",{from:this.originalCurrencySelect,to:this.localCurrencies.join(",")}),this.$store.dispatch("getCurrencies")},computed:{...Object(g["c"])(["localCurrencies"]),...Object(g["b"])(["exchangeRatesList"])},watch:{originalCurrencySelect(e){this.$store.dispatch("getExchangeRates",{from:e,to:this.localCurrencies.join(",")})}},methods:{updateExchangeRates(){this.updateTimeout||(this.$store.dispatch("getExchangeRates",{from:this.originalCurrencySelect,to:this.localCurrencies.join(",")}),this.updateTimeout=setTimeout(()=>(this.updateTimeout=null,!0),5e3))}}};c("f581");const de=C()(ue,[["render",D],["__scopeId","data-v-2b76e75f"]]);var pe=de,be={name:"Home",components:{ConversionForm:A,ExchangeRates:pe}};c("cb11");const he=C()(be,[["render",o],["__scopeId","data-v-58626162"]]);var fe=he;const me=[{path:"/",name:"Home",component:fe}],ge=Object(r["a"])({history:Object(r["b"])("/dublemint-task/"),routes:me});t["a"]=ge},a4ec:function(e,t,c){},ac3c:function(e,t,c){},b055:function(e,t,c){"use strict";c("8ca2")},b3aa:function(e,t,c){},b43b:function(e,t,c){},cb11:function(e,t,c){"use strict";c("b3aa")},f581:function(e,t,c){"use strict";c("52b6")}});
//# sourceMappingURL=app.b9b9f2d0.js.map